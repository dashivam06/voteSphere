<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VoteSphere - Election Details</title>
    <link rel="stylesheet" href="../styles/global.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: "#f0f9ff",
                100: "#e0f2fe",
                200: "#bae6fd",
                300: "#7dd3fc",
                400: "#38bdf8",
                500: "#0ea5e9",
                600: "#0284c7",
                700: "#0369a1",
                800: "#075985",
                900: "#0c4a6e",
              },
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
          },
        },
      };
    </script>
  </head>
  <body class="font-sans bg-gray-100 flex h-screen overflow-hidden">
    <!-- Include sidebar -->
    <div id="sidebar-container"></div>

    <!-- Main Content -->
    <div
      class="flex-1 flex flex-col ml-0 lg:ml-64 transition-all duration-300 ease-in-out"
    >
      <!-- Include navbar -->
      <div id="navbar-container"></div>

      <!-- Content Area -->
      <div class="p-8 overflow-y-auto">
        <div class="bg-white rounded-lg shadow-md p-6 mx-auto">
          <div class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold text-gray-800">Election Details</h1>
            <a
              href="elections.html"
              class="bg-gray-100 text-gray-600 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-200"
              >Back to Elections</a
            >
          </div>

          <!-- Election Banner -->
          <div class="mb-8">
            <div class="h-48 w-full bg-gray-100 rounded-lg overflow-hidden">
              <img
                id="cover-image"
                src="https://placehold.co/1200x400"
                alt="Election Cover"
                class="w-full h-full object-cover object-center"
              />
            </div>
          </div>

          <!-- Election Header -->
          <div class="mb-8">
            <h2 id="election-name" class="text-2xl font-bold text-gray-800">
              Presidential Election 2024
            </h2>
            <p class="text-gray-600">
              Election ID: <span id="election-id">1001</span>
            </p>

            <!-- Election Status -->
            <div class="mt-4">
              <span
                id="status-badge"
                class="px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"
              >
                Upcoming
              </span>
            </div>
          </div>

          <!-- Election Information -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-700 mb-4 border-b pb-2">
              Election Information
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <span class="font-medium text-gray-700">Type:</span>
                <p id="election-type" class="mt-1">Presidential</p>
              </div>
              <div>
                <span class="font-medium text-gray-700">Date:</span>
                <p id="election-date" class="mt-1">November 5, 2024</p>
              </div>
              <div>
                <span class="font-medium text-gray-700">Start Time:</span>
                <p id="start-time" class="mt-1">07:00 AM</p>
              </div>
              <div>
                <span class="font-medium text-gray-700">End Time:</span>
                <p id="end-time" class="mt-1">08:00 PM</p>
              </div>
            </div>
          </div>

          <!-- Election Countdown -->
          <div
            class="mb-8 bg-primary-50 p-4 rounded-lg border border-primary-100"
          >
            <h3 class="text-lg font-semibold text-primary-800 mb-2">
              Election Countdown
            </h3>
            <div class="grid grid-cols-4 gap-2 text-center">
              <div>
                <div id="days" class="text-3xl font-bold text-primary-700">
                  124
                </div>
                <div class="text-xs text-primary-600">Days</div>
              </div>
              <div>
                <div id="hours" class="text-3xl font-bold text-primary-700">
                  16
                </div>
                <div class="text-xs text-primary-600">Hours</div>
              </div>
              <div>
                <div id="minutes" class="text-3xl font-bold text-primary-700">
                  43
                </div>
                <div class="text-xs text-primary-600">Minutes</div>
              </div>
              <div>
                <div id="seconds" class="text-3xl font-bold text-primary-700">
                  12
                </div>
                <div class="text-xs text-primary-600">Seconds</div>
              </div>
            </div>
          </div>

          <!-- Candidates Section -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-700 mb-4 border-b pb-2">
              Candidates
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              <!-- Sample candidate card -->
              <div
                class="bg-white rounded-lg border overflow-hidden shadow-sm hover:shadow-md transition-shadow"
              >
                <div class="h-40 bg-gray-100">
                  <img
                    src="https://placehold.co/400x300"
                    alt="Candidate"
                    class="w-full h-full object-cover object-center"
                  />
                </div>
                <div class="p-4">
                  <div class="flex items-center mb-2">
                    <h4 class="font-semibold text-gray-800">John Smith</h4>
                    <span
                      class="ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full"
                      >Democratic</span
                    >
                  </div>
                  <p class="text-sm text-gray-600 mb-4 line-clamp-2">
                    Experienced leader with a vision for economic growth and
                    social justice.
                  </p>
                  <a
                    href="candidate-details.jsp?id=1"
                    class="text-primary-600 hover:text-primary-800 text-sm font-medium"
                  >
                    View Profile →
                  </a>
                </div>
              </div>

              <!-- Sample candidate card -->
              <div
                class="bg-white rounded-lg border overflow-hidden shadow-sm hover:shadow-md transition-shadow"
              >
                <div class="h-40 bg-gray-100">
                  <img
                    src="https://placehold.co/400x300"
                    alt="Candidate"
                    class="w-full h-full object-cover object-center"
                  />
                </div>
                <div class="p-4">
                  <div class="flex items-center mb-2">
                    <h4 class="font-semibold text-gray-800">Sarah Johnson</h4>
                    <span
                      class="ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded-full"
                      >Republican</span
                    >
                  </div>
                  <p class="text-sm text-gray-600 mb-4 line-clamp-2">
                    Dedicated to fiscal responsibility and strengthening
                    national security.
                  </p>
                  <a
                    href="candidate-details.jsp?id=2"
                    class="text-primary-600 hover:text-primary-800 text-sm font-medium"
                  >
                    View Profile →
                  </a>
                </div>
              </div>

              <!-- Sample candidate card -->
              <div
                class="bg-white rounded-lg border overflow-hidden shadow-sm hover:shadow-md transition-shadow"
              >
                <div class="h-40 bg-gray-100">
                  <img
                    src="https://placehold.co/400x300"
                    alt="Candidate"
                    class="w-full h-full object-cover object-center"
                  />
                </div>
                <div class="p-4">
                  <div class="flex items-center mb-2">
                    <h4 class="font-semibold text-gray-800">Michael Brown</h4>
                    <span
                      class="ml-2 px-2 py-0.5 bg-gray-100 text-gray-800 text-xs rounded-full"
                      >Independent</span
                    >
                  </div>
                  <p class="text-sm text-gray-600 mb-4 line-clamp-2">
                    Bringing fresh ideas and a non-partisan approach to
                    governance.
                  </p>
                  <a
                    href="candidate-details.jsp?id=3"
                    class="text-primary-600 hover:text-primary-800 text-sm font-medium"
                  >
                    View Profile →
                  </a>
                </div>
              </div>
            </div>
          </div>

          <!-- Statistics Section -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-700 mb-4 border-b pb-2">
              Election Statistics
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="bg-blue-50 rounded-lg p-4 border border-blue-100">
                <h4 class="font-semibold text-blue-800">Total Candidates</h4>
                <p class="text-3xl font-bold text-blue-800">12</p>
              </div>
              <div class="bg-green-50 rounded-lg p-4 border border-green-100">
                <h4 class="font-semibold text-green-800">Eligible Voters</h4>
                <p class="text-3xl font-bold text-green-800">24,567</p>
              </div>
              <div class="bg-purple-50 rounded-lg p-4 border border-purple-100">
                <h4 class="font-semibold text-purple-800">Polling Stations</h4>
                <p class="text-3xl font-bold text-purple-800">156</p>
              </div>
            </div>
          </div>

          <!-- Actions Section -->
          <div class="flex justify-end space-x-3">
            <button
              class="bg-yellow-500 text-white px-6 py-2 rounded-lg hover:bg-yellow-600 transition-colors duration-200"
            >
              Edit
            </button>
            <button
              class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200"
            >
              Delete
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Load sidebar and navbar
      document.addEventListener("DOMContentLoaded", function () {
        fetch("sidebar.html")
          .then((response) => response.text())
          .then((data) => {
            document.getElementById("sidebar-container").innerHTML = data;
          });

        fetch("navbar.html")
          .then((response) => response.text())
          .then((data) => {
            document.getElementById("navbar-container").innerHTML = data;
          });

        // In a real application, you would fetch election details from an API
        // Example:
        // const electionId = new URLSearchParams(window.location.search).get('id');
        // fetch(`/api/elections/${electionId}`)
        //   .then(response => response.json())
        //   .then(data => {
        //     // Populate the page with election data
        //     document.getElementById('election-name').textContent = data.name;
        //     document.getElementById('election-id').textContent = data.election_id;
        //     document.getElementById('election-type').textContent = data.type;
        //     document.getElementById('election-date').textContent = new Date(data.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
        //     document.getElementById('start-time').textContent = data.start_time;
        //     document.getElementById('end-time').textContent = data.end_time;
        //     document.getElementById('cover-image').src = data.cover_image;
        //
        //     // Update countdown timer
        //     updateCountdown(new Date(data.date + 'T' + data.start_time));
        //   });

        // Example countdown function
        function updateCountdown(electionDate) {
          const countdownTimer = setInterval(() => {
            const now = new Date().getTime();
            const distance = electionDate - now;

            if (distance < 0) {
              clearInterval(countdownTimer);
              document.getElementById("status-badge").textContent =
                "In Progress";
              document
                .getElementById("status-badge")
                .classList.remove("bg-yellow-100", "text-yellow-800");
              document
                .getElementById("status-badge")
                .classList.add("bg-green-100", "text-green-800");
              return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor(
              (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
            );
            const minutes = Math.floor(
              (distance % (1000 * 60 * 60)) / (1000 * 60)
            );
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("days").textContent = days;
            document.getElementById("hours").textContent = hours;
            document.getElementById("minutes").textContent = minutes;
            document.getElementById("seconds").textContent = seconds;
          }, 1000);
        }

        // For demo purposes, set countdown to a future date
        const demoElectionDate = new Date();
        demoElectionDate.setDate(demoElectionDate.getDate() + 124);
        updateCountdown(demoElectionDate);
      });
    </script>
  </body>
</html>
